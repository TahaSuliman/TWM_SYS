@model IEnumerable<Curly_TWM.Domain.Entities.Teams>

@{
    ViewBag.Title = "Initiatives";
    Layout = "~/Views/Initiative_Officer/_LayoutInitiativeOfficer.cshtml";
}


<script src="~/Scripts/jquery-3.4.1.js"></script>
<!-- SweetAlert2 -->
<link href="~/Content/plugins/sweet-alert2/sweetalert2.css" rel="stylesheet" />
<script src="~/Content/plugins/sweet-alert2/sweetalert2.js"></script>


<div class="content" style="direction:rtl;text-align:right">
    <h2 class="intro-y text-lg font-medium mt-10">
        قائمة المبادرات و المشاريع
    </h2>
    العدد @ViewBag.cou
    <div class="grid grid-cols-12 gap-6 mt-5">
        <div class="intro-y col-span-12 flex flex-wrap sm:flex-nowrap items-center mt-2">
            <a href="@Url.Action("CreateInitiatives","Initiative_Officer")" class="btn btn-primary shadow-md ml-2">
                اضافة جديد
            </a>

            <div class="hidden md:block mx-auto text-slate-500"></div>
            <div class="w-full sm:w-auto mt-3 sm:mt-0 sm:ml-auto md:ml-0">
                <div class="w-56 relative text-slate-500">

                </div>
            </div>
        </div>

        @foreach (var i in ViewBag.myt)
        {
            <div class="intro-y col-span-12 md:col-span-6 lg:col-span-4 xl:col-span-3">
                <div class="box">
                    <div class="p-5">

                        <div class="text-slate-600 dark:text-slate-500 mt-5">

                            
 
                           

                            <div class="font-extrabold mb-5">@i.InitiativeName</div>
                            <hr class=" mb-5">
                            <div class="flex items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="calendar" data-lucide="calendar" class="lucide lucide-calendar w-4 h-4 ml-2">
                                    <path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"></path>
                                    <path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"></path>
                                </svg>
                                @Convert.ToDateTime(i.Initiative_Sdt).ToString("dd-MM-yyyy") - @Convert.ToDateTime(i.Initiative_Edt).ToString("dd-MM-yyyy")

                            </div>
                            <div class="flex items-center mt-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="layers" data-lucide="layers" class="lucide lucide-layers w-4 h-4 ml-2"><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></svg>
                                اعضاء الفريق: @i.remarks
                            </div>
                            <div class="flex items-center mt-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="check-square" data-lucide="check-square" class="lucide lucide-check-square w-4 h-4 ml-2"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11"></path></svg>
                                عدد المهام: @i.InitiativeDeatails
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center lg:justify-end items-center p-5 border-t border-slate-200/60 dark:border-darkmode-400">

                        <div class="preview">

                            <a href=" @Url.Action("EditInitiatives", "Initiative_Officer", new { id = i.Id })" class="btn btn-pending mr-1 mb-2 tooltip" title="تعديل البيانات" data-theme="light"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="check-square" data-lucide="check-square" class="lucide lucide-check-square w-5 h-5"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> </a>

                            <a href="@Url.Action("InitiativesUploas", "Initiative_Officer", new { id = i.Id })" class="btn btn-secondary mr-1 mb-2 tooltip" title="اضافة وثائق المبادرة" data-theme="light"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="link" data-lucide="link" class="lucide lucide-link w-5 h-5"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg> </a>

                            <a href="@Url.Action("DetailsInitiatives", "Initiative_Officer", new { id = i.Id })" class="btn btn-success mr-1 mb-2 tooltip" title="عرض التفاصيل" data-theme="light"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="file-text" data-lucide="file-text" class="lucide lucide-file-text w-5 h-5"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> </a>

                            <div class="dropdown mr-1 mb-2" style="position: relative; display: contents;">
                                <button class="dropdown-toggle btn btn-primary tooltip" title="خيارات المبادرة" data-theme="light" aria-expanded="false" data-tw-toggle="dropdown">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" icon-name="align-justify" data-lucide="align-justify" class="lucide lucide-align-justify w-5 h-5"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path></svg>
                                </button>
                                <div class="dropdown-menu w-40" id="_7icp3nw31" data-popper-placement="bottom-end" style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate3d(0px, 38px, 0px);">
                                    <ul class="dropdown-content">
                                        <li>
                                            <a href="@Url.Action("CreateTeams","Initiative_Officer" ,new { iId=i.Id})" class="dropdown-item">اضافة عضو للفريق</a>
                                        </li>
                                        <li>
                                            <a href="@Url.Action("Teams","Initiative_Officer" ,new { iId=i.Id})" class="dropdown-item">قائمة الاعضاء</a>
                                        </li>
                                        <li>
                                            <a href="@Url.Action("ExecutePlan","Initiative_Officer" ,new { iId=i.Id})" class="dropdown-item">ادارة مهام الفريق</a>
                                        </li>
                                        <li>
                                            <a href="@Url.Action("Partners","Initiative_Officer" ,new { iId=i.Id})" class="dropdown-item">قائمة الشركاء </a>
                                        </li>
                                        <li>
                                            <a href="@Url.Action("RiskList","Initiative_Officer" ,new { iId=i.Id})" class="dropdown-item">اضافة المخاطر </a>
                                        </li>
                                        <li>
                                            <a href="@Url.Action("OperationalIndicators","Initiative_Officer" ,new { iId=i.Id})" class="dropdown-item">المؤشرات التشغيلية</a>
                                        </li>

                                    </ul>
                                </div>
                            </div>



                        </div>


                    </div>
                </div>
            </div>

        }

    </div>
</div>


<script>
      //Success Message
    if (window.performance && window.performance.navigation.type == window.performance.navigation.TYPE_BACK_FORWARD) {
        //alert('hello world');
    }
    else {
               var title = '@TempData["title"]';
               var type = '@TempData["type"]';
               var success = '@TempData["SuccessMsg"]';
            if (success != "" && success !=null) {
                swal(
                    {
                        title: title,
                        text: success,
                        type: type,
                        button: "موافق ",

                        confirmButtonClass: 'btn btn-success',
                        timer: 1500

                    }
                )

            }
            //Success Message

    }



    //*********************************
    function Delete(id, Name) {

        swal({
            title: "Are you sure?",
            text: "Once deleted, you can't recover this record!",
            icon: "warning",
            buttons: ["Cancel", "Yes, delete it !!"],

            //buttons: true,
            dangerMode: true,
        })
            .then((willDelete) => {
                if (willDelete) {

                    $.ajax({
                        url: "/HR/Delete/" + id,
                        type: "POST",
                        contentType: "application/json;charset=UTF-8",
                        dataType: "json",
                        success: function (result) {

                            swal("Poof! Your imaginary record has been deleted!", {
                                icon: "success",
                            });
                            $("#here").load(window.location.href + " #here");

                        },
                        error: function (errormessage) {
                            alert(errormessage.responseText);
                        }
                    });

                }
            });
    }
    //*********************************
</script>


